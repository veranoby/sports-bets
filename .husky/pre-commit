#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Run linting and formatting for frontend
# Use commit-friendly linting (allows up to 100 warnings, fails on errors only)
cd frontend && npm run lint:commit && npm run format

# Run backend linting if script exists
if [ -f "backend/package.json" ] && grep -q '"lint"' backend/package.json; then
  cd backend && npm run lint:fix
fi

echo "âœ… Pre-commit checks completed"
