#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-commit hooks restored after TypeScript error resolution
# Enforce strict quality gates before commit

# Frontend linting and formatting
cd frontend && npm run lint:commit && npm run format

# Backend linting (if backend has lint script)
if [ -f "backend/package.json" ] && grep -q '"lint"' backend/package.json; then
  cd backend && npm run lint:fix
fi

# Frontend build verification
cd frontend && npm run build

# Backend type checking
cd backend && npx tsc --noEmit
