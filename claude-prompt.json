{
  "componentRefactorPlan": {
    "title": "Plan de Refactorización y Limpieza de Componentes de Frontend",
    "version": "1.0",
    "date": "2025-08-26",
    "strategy": [
      "1. Realizar los cambios de manera incremental, un ID de plan a la vez (ej. completar todo DEL-001, probar, y hacer commit).",
      "2. Después de cada cambio, verificar la aplicación en todos los roles (user, venue, gallera, admin, operator) para asegurar que no haya regresiones.",
      "3. Utilizar la búsqueda global ('Find in Files') para confirmar que no queden importaciones huérfanas de los componentes eliminados."
    ],
    "deletions": [
      {
        "id": "DEL-001",
        "title": "Eliminar Componentes de Debug",
        "description": "Eliminar todas las herramientas y componentes de debugging que no son necesarios para la funcionalidad de la aplicación.",
        "files_to_delete": [
          "frontend/src/components/debug/DebugPanel.tsx",
          "frontend/src/components/debug/RoleSwitcher.tsx",
          "frontend/src/components/debug/README.md",
          "frontend/src/pages/DebugTestPage.tsx"
        ],
        "action_steps": [
          "Eliminar el directorio 'frontend/src/components/debug'.",
          "Eliminar el archivo 'frontend/src/pages/DebugTestPage.tsx'.",
          "En 'frontend/src/App.tsx', remover las importaciones lazy de RoleSwitcher, DebugPanel y DebugTestPage, y la ruta '/debug'."
        ]
      },
      {
        "id": "DEL-002",
        "title": "Eliminar Componente Placeholder de Venue",
        "description": "El componente 'VenueManagement.tsx' es un placeholder y su funcionalidad real reside en las páginas de administración.",
        "files_to_delete": [
          "frontend/src/components/venues/VenueManagement.tsx"
        ],
        "action_steps": [
          "Verificar que no haya importaciones de este componente.",
          "Eliminar el archivo y el directorio 'frontend/src/components/venues/' si queda vacío."
        ]
      },
      {
        "id": "DEL-003",
        "title": "Eliminar Componente Vacío de Shared",
        "description": "El componente 'WebSocketTester.tsx' está vacío y no se utiliza en ninguna parte de la aplicación.",
        "files_to_delete": [
          "frontend/src/components/shared/WebSocketTester.tsx"
        ],
        "action_steps": [
          "Verificar que no haya importaciones y eliminar el archivo."
        ]
      },
      {
        "id": "DEL-004",
        "title": "Eliminar Formulario de Pago Redundante",
        "description": "Existe un formulario de pago duplicado. 'subscriptions/PaymentForm.tsx' es más completo y está en uso. 'payments/PaymentForm.tsx' es redundante.",
        "files_to_delete": [
          "frontend/src/components/payments/PaymentForm.tsx"
        ],
        "action_steps": [
          "Verificar que 'payments/PaymentForm.tsx' no se importe en ninguna vista crítica.",
          "Eliminar el directorio 'frontend/src/components/payments/'."
        ]
      }
    ],
    "unifications": [
      {
        "id": "UNI-001",
        "title": "Unificar Directorios 'subscription' y 'subscriptions'",
        "description": "La existencia de dos directorios para suscripciones es confusa. Se consolidará todo en la carpeta 'subscriptions'.",
        "files_to_move": {
          "from": "frontend/src/components/subscription/SubscriptionStatus.tsx",
          "to": "frontend/src/components/subscriptions/SubscriptionStatus.tsx"
        },
        "directory_to_delete": "frontend/src/components/subscription",
        "action_steps": [
          "Mover 'SubscriptionStatus.tsx' de la carpeta 'subscription' a 'subscriptions'.",
          "Buscar y actualizar todas las importaciones que apunten a la ruta antigua.",
          "Eliminar el directorio 'frontend/src/components/subscription'."
        ]
      }
    ],
    "optimizations": [
      {
        "id": "OPT-001",
        "title": "Optimizar Tabla de Historial de Apuestas",
        "description": "'BetHistoryTable.tsx' usa una tabla HTML simple. Debe ser refactorizado para usar el componente reutilizable 'shared/AdvancedTable.tsx' para obtener funcionalidades avanzadas como paginación, ordenamiento y filtros.",
        "target_component": "frontend/src/components/user/BetHistoryTable.tsx",
        "reusable_component": "frontend/src/components/shared/AdvancedTable.tsx",
        "action_steps": [
          "Importar 'AdvancedTable' en 'BetHistoryTable'.",
          "Definir las columnas (columns) para la tabla avanzada (Evento, Monto, Estado, Resultado, Fecha).",
          "Renderizar el componente 'AdvancedTable' pasándole los datos de las apuestas (bets) y las columnas definidas.",
          "Eliminar el código de la tabla HTML estática."
        ]
      },
      {
        "id": "OPT-002",
        "title": "Integrar Reproductor de Video Avanzado",
        "description": "'StreamingPanel.tsx' contiene una lógica de video muy simple. Debe ser mejorado para usar el componente 'StreamPlayer.tsx' que ya integra 'video.js' y ofrece una experiencia más robusta.",
        "target_component": "frontend/src/components/user/StreamingPanel.tsx",
        "reusable_component": "frontend/src/components/user/StreamPlayer.tsx",
        "action_steps": [
          "Importar 'StreamPlayer' en 'StreamingPanel'.",
          "Reemplazar el elemento '<video>' y la lógica de placeholder con el componente '<StreamPlayer streamUrl={streamUrl} />'.",
          "Asegurarse de que las props necesarias se pasen correctamente."
        ]
      }
    ]
  }
}
